

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>detail_/utilities/return.cmake &mdash; CMakeTest 1.0.0alpha documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> CMakeTest
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">About CMakeTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faqs.html">Frequently Asked Questions (FAQs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../writing_tests/index.html">Writing Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">#</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">CMakeTest</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>detail_/utilities/return.cmake</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/developer/detail_/utilities/return.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-detail_-utilities-return.cmake">
<span id="module-detail_/utilities/return.cmake"></span><span id="detail-utilities-return-cmake"></span><h1><a href="#id1"><span class="problematic" id="id2">detail_</span></a>/utilities/return.cmake<a class="headerlink" href="#module-detail_-utilities-return.cmake" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="detail_-utilities-return.cmake._ct_return">
<span id="detail_/utilities/return.cmake._ct_return"></span><span class="sig-prename descclassname"><span class="pre">detail_/utilities/return.cmake.</span></span><span class="sig-name descname"><span class="pre">_ct_return</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_r_var</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#detail_-utilities-return.cmake._ct_return" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is a macro, and so does not introduce a new scope.</p>
</div>
<p>Syntactic sugar for returning a value from a function</p>
<p>CMake allows you to return variables by adding them to the parent namespace.
The best way to do this is to have the callee provide the function with an
identifier to save the result to. This function wraps the common case where
internally the function saves the result to a local variable with the same
name as the callee provided for the result. Without the <code class="docutils literal notranslate"><span class="pre">_ct_return</span></code>
function this pattern looks something like:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">function</span><span class="p">(</span><span class="s">fxn_name</span> <span class="s">return_identifier</span><span class="p">)</span>
    <span class="nb">set</span><span class="p">(</span><span class="o">${</span><span class="nv">return_identifier</span><span class="o">}</span> <span class="s2">&quot;the value&quot;</span><span class="p">)</span>
    <span class="nb">set</span><span class="p">(</span><span class="o">${</span><span class="nv">return_identifier</span><span class="o">}</span> <span class="o">${</span><span class="nv">${return_identifier</span><span class="o">}</span><span class="s">}</span> <span class="s">PARENT_SCOPE</span>
<span class="s">endfunction(</span><span class="p">)</span>
</pre></div>
</div>
<p>With the <code class="docutils literal notranslate"><span class="pre">_ct_return</span></code> function the above becomes:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">function</span><span class="p">(</span><span class="s">fxn_name</span> <span class="s">return_identifier</span><span class="p">)</span>
    <span class="nb">set</span><span class="p">(</span><span class="o">${</span><span class="nv">return_identifier</span><span class="o">}</span> <span class="s2">&quot;the value&quot;</span><span class="p">)</span>
    <span class="nb">_ct_return</span><span class="p">(</span><span class="o">${</span><span class="nv">return_identifier</span><span class="o">}</span><span class="p">)</span>
<span class="nb">endfunction</span><span class="p">()</span>
</pre></div>
</div>
<p>While the new code still has the same number of lines, it is our opinion that
the new code is easier to read and the intent is more clear.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>_r_var</strong> (<em>Identifier</em>) – The identifier which needs to be set in the parent namespace.</p>
</dd>
</dl>
<p>..note:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span>This function is a macro to avoid creating another scope. If ``function``
is used the identifier will be set in the scope of the function that
called ``_ct_return`` and NOT in the scope of the function that called the
callee of ``_ct_return``.
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, CMakePP Organization.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>