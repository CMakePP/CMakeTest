

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>add_section.cmake &mdash; CMakeTest 1.0.0alpha documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="register_exception_handler.cmake" href="register_exception_handler.html" />
    <link rel="prev" title="cmake_test.cmake" href="cmake_test.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> CMakeTest
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About CMakeTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faqs.html">Frequently Asked Questions (FAQs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing_tests/index.html">Writing Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">#</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="add_dir.html">add_dir.cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="add_test.html">add_test.cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution_unit.html">execution_unit.cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="colors.html">colors.cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmake_test.html">cmake_test.cmake</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">add_section.cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="register_exception_handler.html">register_exception_handler.cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="exec_tests.html">exec_tests.cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="set_print_length.html">set_print_length.cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="overrides.html">overrides.cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="expectfail_subprocess.html">expectfail_subprocess.cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="asserts/index.html">asserts</a></li>
<li class="toctree-l2"><a class="reference internal" href="detail_/index.html">detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates/index.html">templates</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CMakeTest</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">#</a> &raquo;</li>
        
      <li>add_section.cmake</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/developer/add_section.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-add_section.cmake">
<span id="add-section-cmake"></span><h1>add_section.cmake<a class="headerlink" href="#module-add_section.cmake" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="add_section.cmake.ct_add_section">
<span class="sig-prename descclassname"><span class="pre">add_section.cmake.</span></span><span class="sig-name descname"><span class="pre">ct_add_section</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#add_section.cmake.ct_add_section" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a test section, should be called inside of a declared test function directly before declaring the section function.
The NAME parameter will be populated as by set() with the generated section function name. Declare the section function using this generated name. Ex:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c">#This is inside of a declared test function</span>
<span class="nb">ct_add_section</span><span class="p">(</span><span class="s">NAME</span> <span class="s">this_section</span><span class="p">)</span>
<span class="nb">function</span><span class="p">(</span><span class="o">${</span><span class="nv">this_section</span><span class="o">}</span><span class="p">)</span>
    <span class="nb">message</span><span class="p">(</span><span class="s">STATUS</span> <span class="s2">&quot;This code will run in a test section&quot;</span><span class="p">)</span>
<span class="nb">endfunction</span><span class="p">()</span>
</pre></div>
</div>
<p>Upon being executed, this function will check if the section should be executed.
If it is not, ct_add_section() will generate an ID for the section function and sets the variable pointed to by the NAME parameter to it.
It will also construct a new CTExecutionUnit instance to represent the section.</p>
<p>If the section is supposed to be executed, ct_add_section() will call the <code class="docutils literal notranslate"><span class="pre">execute</span></code> member function of the CTExecutionUnit representing this section.
Exceptions will be tracked while the function is being executed. After completion of the test, the test status will be output
to the screen. The section subsections will then be executed, following this same flow until there are no more subsections.</p>
<p>If a section raises an exception when it is not expected to, it will be marked as a failing section and its subsections
will not be executed, due to limitations in how CMake handles failures. However, sibling sections as well as
other tests will continue to execute, and the failures will be aggregated and printed after all tests have been ran.</p>
<p>Print length of pass/fail lines can be adjusted with the <cite>PRINT_LENGTH</cite> option.</p>
<dl class="simple">
<dt>Priority for print length is as follows (first most important):</dt><dd><ol class="arabic simple">
<li><p>Current execution unit’s PRINT_LENGTH option</p></li>
<li><p>Parent’s PRINT_LENGTH option</p></li>
<li><p>Length set by ct_set_print_length()</p></li>
<li><p>Built-in default of 80.</p></li>
</ol>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – <p>See below</p>
</p>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><ul class="simple">
<li><p><em>NAME</em> (<code class="docutils literal notranslate"><span class="pre">pointer</span></code>) – Required argument specifying the name variable of the section. Will set a variable with specified name containing the generated function ID to use.</p></li>
<li><p><em>EXPECTFAIL</em> (<code class="docutils literal notranslate"><span class="pre">option</span></code>) – Option indicating whether the section is expected to fail or not, if specified will cause test failure when no exceptions were caught and success upon catching any exceptions.</p></li>
<li><p><em>PRINT_LENGTH</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) – Optional argument specifying the desired print length of pass/fail output lines.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="add_test.html#add_test.cmake.ct_add_test" title="add_test.cmake.ct_add_test"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_test.cmake.ct_add_test()</span></code></a> for details on EXPECTFAIL.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">exec_test.cmake.ct_exec_test()</span></code> for details on halting tests on exceptions.</p>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="register_exception_handler.html" class="btn btn-neutral float-right" title="register_exception_handler.cmake" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="cmake_test.html" class="btn btn-neutral float-left" title="cmake_test.cmake" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, CMakePP Organization.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>